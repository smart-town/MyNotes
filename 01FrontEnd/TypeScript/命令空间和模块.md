# 命名空间和模块

[官方](https://typescript.bootcss.com/namespaces-and-modules.html)

## 关于命名空间

命名空间是全局命名空间下一个普通的带有名字的 JavaScript 对象，这令命名空间十分容易使用。它们可以在多文件中同时使用。并通过`--outFile`结合在一起，命名空间是帮助你组织 web 应用不错的方式。你可以将所有依赖都放在 HTML 中的`<script>`中。

但是就像其他的全局命名空间污染一样，它很难去识别组件之间的依赖关系，尤其是在大型应用中。

## 关于模块

像命令空间一样，模块可以包含代码和声明。不同的是模块可以声明它的依赖。

模块会把依赖添加到模块加载器上，对于小型应用来说可能没有必要，但是对于大型应用来说，这一点点的花费会带来长久的模块化和可维护性上的便利。模块也提供了更好的代码重用，更强的封闭性以及更好的使用工具优化。

从 EMScript 2015 开始，模块成了语言的内置部分。应该会被所有正常的解释引擎所支持。

## 命名空间&模块陷阱

### 对模块使用`/// <reference>`

一个常见的错误情况就是使用`/// <reference>`引用模块文件，应该使用`import`。要理解这之间的区别，应该弄清楚编译器是如何`import`路径的。如`import x from '...'`中的`...`.

编译器首先尝试去查找相应路径中的`.ts`、`.tsx`或`.d.ts`。如果这些文件都找不到，编译器会查找外部模块声明。其是在`.d.ts`中声明的。

## 不必要的命名空间

如果你把命名空间转换为模块，可能像这样：
```ts
export namespace Shapes{
    export class Triangle{}
    export class Square{}
}

//使用时
import * as shapes from './shapes';
let t = new shapes.Shapes.Triangle()
```
这明显很冗余。TypeScript 中不同的模块永远也不会在相同的作用域内使用使用相同的名字，因为使用模块的人会为他们命名。所以完全没有必要将导出的符号包裹在一个命名空间中。
