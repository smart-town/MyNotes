# 异步

通常来说，程序都是顺序执行，同一时刻只会发生一件事。如果一个函数依赖于另一个函数的结果，那么它只能等待那个函数结束后才能继续运行。从用户的角度来说，整个程序才算运行完毕。

这是令人沮丧的体验，没有充分利用计算机的计算能力——尤其是计算机普遍都有多核 CPU 的时代，坐在那里等待毫无意义，你完全可以在另一个处理器内核上干其他的工作，同时计算机完成耗时任务的时候通知你。这样你可以同时完成其他工作，这就是**异步编程**的出发点。你正在使用的编程环境（就 Web 开发而言，编程环境就是 Web 浏览器）负责为你提供异步运行此类任务的 API。

## 产生阻塞的代码

异步技术非常有用，特别是在 Web 编程中，当浏览器中一个 Web 应用进行密集运算还没有把控制权交给浏览器的时候，整个浏览器就像冻僵了一样，这叫做**阻塞**，这时候浏览器无法继续处理用户的输入并执行其他任务，直到 Web 应用交回处理器的控制。

## JavaScript 单线程

JavaScript 是单线程的，即使有多个内核，也只能在一单一线程上运行多个任务。此线程称为**主线程**。通过 Web workers 可以把一些任务交给一个名为 worker 的线程，这样就可以同时运行多个 JavaScript 代码块，一般来说，用一个 worker 来运行一个比较耗时的任务，主线程就可以处理用户的交互。

