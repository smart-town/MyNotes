# 设计模式

## 定义

> **模式**是在某情境(context)下，针对某种问题的某种解决方案

**情境**就是应用某个模式的情况，**问题**就是在某情境下要达到的目标，但是也可以是某情境下的约束。**解决方案**就是追求的：一个通用的设计，用来解决约束达到目标。

“如果你发现自己处于某个情境之下，面对着所需要达到的目标被一群约束影响着的问题，然而，你能够应用某个设计，克服这些约束并达到目标，将你领向某个解决方案”

## 类目

随着发掘的设计模式数目逐渐增加，有必要将它们分级分类，好将它们组织起来，以简化我们寻找模式的过程，并让同一组内的模式互相比较。在大多数的类目中，模式通常根据某种做法被分为几类。最广为人知的分类方式就是 根据模式的目标分为三个类目：**创建型**、**行为型**、**结构型**。

## 用模式思考

### 保持简单

Keep It Simple/Kiss。设计时应该尽可能用最简单的方式解决问题，你的目标应该是简单而不是“如何在这个问题一种使用模式”。千万不要认为如果没有使用模式解决某个问题，就不是经验丰富的开发人员，如果你能够保持简单的设计，就已经足够了。正确的说法是，为了让你的设计简单且具有弹性，有时候使用模式是最简单的方式。

### 并非万能

模式是解决一再发生的问题的通用方案，已经被许多开发人员实际测试过，所以当你需要某个模式时，可以放心使用它，毕竟你已经知道这个模式身经百战。但是需要注意，要使用模式，需要考虑模式对设计中其他部分造成的影响。

### 何时需要模式

在设计的时候如果确定你的设计中可以利用某个模式解决某个问题，那么就使用这个模式。如果有更简单的方案，那么在决定使用模式之前应该先考虑这个方案。

如何知道何时使用一个模式，这就需要经验和知识。一旦你确定一个简单的方案无法满足你的需要，应该考虑这个问题以及相关的约束——这可以帮你将问题对应到一个模式中去。如果你对于模式有很深的认知就可能知道有什么模式适合这样的情况。否则就花些时间调查一下可能会解决这个问题的模式，模式类目中的意图和应用部分会特别有用。一旦找到了一个看起来很合适的模式，首先确定能够接受其带来的后果以及对其他部分的影响。如果一切看起来很好就使用它。

### 重构的时间就是模式的时间

重构就是通过改变你的代码来改进它的组织方式的过程，目标是要改善其结构而不是其行为。这是一个很好的时机，可以重新检查你的设计来看是否能够利用模式让他拥有更好的结构。比如说，代码内如果充满了条件语句，这可能意味着需要使用状态模式，或者意味着应该利用工厂模式将这些具体的依赖消除掉。

### 删除模式

当你的系统十分复杂，而且不需要预留任何弹性的时候，就不要使用模式，换句话说也就是当一个比较简单的解决方案比使用模式更恰当的时候。

### 