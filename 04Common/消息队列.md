# 消息队列

[原文](https://www.jianshu.com/p/79ca08116d57)

## 什么是

消息是指在应用程序之间传送的数据，消息具体来看，可以是简单的字符串也可以是复杂的对象等。

消息队列是一种应用间的通信方式，消息发送后可以立即返回，由消息系统来确保消息的可靠传递。消息发布者只管将消息发布到 MQ 中而不用管谁来取，消息使用者只管从 MQ 中取消息而不管是谁发布的。

## 从何而来

以常见的业务场景为例，如订单系统，用户点击下单后的业务逻辑可能包括：扣减库存、生成相应订单数据、发红包、发短信通知。在业务发展初期可能这些逻辑放在一起同步执行，然而随着业务订单数量的发展，需要提升服务系统的性能，这时候可以将一些不需要立即执行的的操作拆分出来异步执行。比如发红包、发短信通知。这种情况下就可以使用 MQ，在下单的主流程完成之后发送一条消息到 MQ 上，让主流程快速完结，而由另外单独的线程拉取 MQ 的消息（或者由 MQ 推送消息），当发现 MQ 中有红包或短信的消息时执行相应的业务逻辑

以上是用户业务解耦的情况，常见的场景还有：最终一致性、广播、等。

## RabbitMQ

RabbitMQ 是由 Erlang 语言开发的 AMQP 的开源实现。

AMQP:Advancd Message Queue Protocol.高级消息队列协议。它是应用层协议的一个开放标准，为面向消息的中间件实现。基于该协议的客户端和消息中间件可以传递消息，不受产品、语言的限制。

RabbitMQ 最初起源于金融系统用于在分布式系统中存储和转发消息，在易用性、扩展性、高可用性上表现不俗。
