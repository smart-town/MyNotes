# 基本概念

- 开放源码
- 编译器
- 可执行文件

Linux 系统真正认识的是 binary program，如何做出 binary 程序呢？首先要写程序->原始的程序码，这个程序码文件就是一般的文本文件。在完成源代码文件的编写之后，再将其编译为操作系统看得懂的 binary program。而编译则需要“编译器”，经过编译器的编译和链接之后，就会产生一支可以执行的 binary program。

举例来说，Linux 上最标准的语言为 C，使用 C 语法进行原始程序码的编写。写完之后，以 Linux 上标准的 C 编译器 GCC 来编译，生成可执行程序。事实上，编译过程中还会生成目标文件，这些文件以`*.o`的形式存在。此外，有的时候我们会在程序当中“引用、调用”其他外部副程序，或是利用其他软件提供的“函数功能”。这时候我们就必须在编译的过程中，将该函数库给它加进去。如此一来，编译器就可以将所有的程序码与函数库做一个链接以产生正确的可执行文件。

## 函数库
函数库就是类似子程序的角色，可以被调用来执行的一段功能函数。

函数库分为动态和静态函数库。Linux 核心提供很多相关函数库与外部参数，这些核心功能在设计硬件的驱动程序的时候是相当有用的信息。这些核心相关信息大多放置在`/usr/include`、`/usr/lib`、`/usr/lib64`中。

静态函数库会编译到执行程序中，而动态函数库不会。

## make 与 configure

事实上使用 gcc 进行编译的过程并不简单，因为一套程序不只有一支程序，而是有一堆程序码文件。所以除了每个主程序与副程序均需要写上一次编译过程的指令外，还需要加上最终的链接程序。程序码少的时候还好，但是类似 WWW 服务器软件或是类似核心的源代码，动则数百 MBytes 的数据量，编译指令会写到疯掉。这时候就可以使用`make`这个指令的相关功能来进行编译过程的指令简化了。

执行`make`时，`make`会在当前目录下寻找`Makefile`或`makefile`文件，其中包含了源代码如何编译的信息。`make`会自动判断源代码是否已经变动过了，自动更新可执行文件。

`makefile`如何编写呢，通常软件开发商会写一支侦测程序侦测使用者的作业环境，以及该作业环境中是否有软件开发商需要的其他功能，该侦测程序执行完毕后，就会自动创建`makefile`规则文件了，通常侦测程序文件名为`configure`或`config`。

为什么需要侦测环境？

实际上，要进行的任务只有两个：`configure`创建 Makefile，该步骤一定要成功，之后再用`make`编译即可。

## Tarball

Tarball 文件，其实就是将该软件的所有源代码文件先以`tar`打包，再以压缩技术压缩，最常见的就是`gzip`压缩，所以 tarball 文件一般的扩展名就是`*.tar.gz`或是简写为`.tgz`。不过近来由于`bzip2`与`xz`压缩率较佳，因此文件名也会是`*.tar.bz2`之类。所以说，Tarball 是一个软件包，你将它解压缩之后，里面的文件通常就有：

- 源代码
- 侦测程序文件
- 软件的安装说明

## 安装与升级软件

- 使用 Tarball 包直接安装    
    - 下载 Tarball 包
    - 解压 Tarball
    - gcc 编译
    - gcc 进行库函数库链接
    - 安装。
    - 以上3,4步骤可以通过 make 指令简化。
- 厂商编译    
    上面的步骤比较麻烦，如果 Linux Distribution 厂商能够针对自己的作业平台先进行编译等过程，再将编译好的 binary progarm 放出的话，那么由于我们的系统与该 Linux Distruction 的环境相同，所以我们可以直接安装其放出的 binary program。省略了侦测编译等复杂步骤


