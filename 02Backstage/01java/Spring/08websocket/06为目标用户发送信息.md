# 为目标用户发送信息

到目前为止，我们所发送和接收的消息都是客户端（Web浏览器中）和服务器端之间的，并没有考虑到客户端的用户。当带有`MessageMapping`注解的方法触发时，我们知道收到了消息但是并不知道消息来源于哪里。类似的，我们不知道用户是谁，所以消息会发送到所有订阅对应主题的客户端上，没有办法发送消息给指定用户。

但是，如果你知道用户是谁的话，就能处理与某个用户相关的信息。而不仅仅是与所有客户端相关联。通过使用 Spring Security 机制来认证用户，并为目标用户处理消息。

使用 STOMP 和 Spring 消息功能的时候，有三种方式利用认证用户：
- `@MessageMapping`和`@SubscribeMapping`标注的方法能够使用`Principal`获取认证用户
- `SimpleMessagingTemplate`能够发送消息给特定用户。
