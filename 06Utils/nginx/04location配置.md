# location 配置

匹配语法：`location [= | ~ | ~* | ^~] uri {...}`

## 说明

包含了路径的匹配规则和针对该规则的配置

前导符 | 说明
---- | -----
= uri {...} | 全字匹配
~ regular {...} | 区分大小写的正则匹配
~* regular {...} | 不区分大小写的正则匹配
^~ uri {...} | 否定正则的路径匹配
url {...} | 没有任何前导符的路径匹配

## 流程

1. 检查请求 uri 是否与某个 = 规则匹配，如果有则直接匹配并终止
2. nginx 首先检查所有路径匹配规则配置项，包括`^~`和没有签到符号的规则，选择并记住和当前 url 匹配度最长的配置项，但此时并不会启用相关配置而仅仅是记住
3. 判断上一步选择的路径是否包含`^~`如果有则直接终止
4. 按配置顺序进行正则检查，匹配到第一条合适的规则时启用并终止
5. 使用步骤三得到的匹配规则

## 实例

```shell
location = / {
	...
}

location / {
	...
}
location /documents/ {
	...
}
location ^~ /images/ {

}
```