# 进入和离开

## 概述

Vue 在插入、更新、或者移除 DOM 的时候，允许提供多种不同的方式应用过渡效果。包括以下工具：
1. 在 css 过渡和动画中自动应用 class
2. 可以配合第三方 css 动画库，如 Animate.css
3. 在过渡钩子函数中使用 JavaScript 直接操作 DOM
4. 可以配合第三方 JavaScript 动画库，如 Velocity.js

## 单元素/组件的过渡

Vue 提供了`transition`封装组件，在下列情形下，可以给任何元素和组件添加进入或离开过渡

- 条件渲染 v-if 或 v-show
- 动态组件
- 组件根节点

当插入或删除包含在`transition`组件中的元素时，Vue 将会做以下处理：
- 自动嗅探目标元素是否应用了 css 过渡或动画，如果是在恰当的时机添加或删除 css 类名
- 如果过渡组件提供了  JavaScript 钩子函数，这些钩子函数将在恰当的时机被调用
- 如果没有找到 JavaScript 钩子也没有检测到 css 过渡/动画，DOM 操作在下一帧中立即执行

### 过渡的类名

在进入/离开的过渡中，会有 6 个 class 的切换。
1. `v-enter`: 定义进入过渡的开始状态。在元素被插入前生效，元素被插入后的下一帧移除
2. `v-enter-active`：定义进入过渡生效时的状态，在整个进入过渡的阶段中应用。在元素被插入前生效，在过渡/动画完成后移除，这个类可以用来定义进入过渡的过程时间、延迟、曲线函数等
3. `v-enter-to`： 2.1.8 及以上版本，定义进入过渡的结束状态，在元素被插入之后的下一帧生效（与此同时 v-enter 被移除），在过渡或动画完成后移除
4. `v-leave`: 定义离开过渡的开始状态，在离开过渡被触发时立刻生效，下一帧移除
5. `v-leave-active`：定义离开过渡生效时的状态，在整个离开过渡的阶段中应用，在离开过渡被触发时立刻生效，在过渡完成后移除。也是可以用来定义离开过渡的过程时间、延迟和函数等
6. `v-leave-to`：2.1.8 及以上，定义离开过渡的结束状态。

对于这些在过渡中切换的类名来说，如果你使用一个没有名字的`<transition>`，那么`v-`则是这些类名的默认前缀。如果使用了`<transition name="my-transition">`那么`v-enter`会替换`my-transition-enter`

