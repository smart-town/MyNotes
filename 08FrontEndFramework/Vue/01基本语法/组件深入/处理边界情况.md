# 处理边界情况

这里都是和处理边界情况有关的功能，即一些需要对 Vue 的规则做一些小调整的特殊情况。

## 访问元素和组件

绝大多数情况下我们最好不要触达另一个组件实例内部或手动操作 DOM 元素，不过确实也有一些情况下做这些事情是合适的。

### 访问根实例

每个`new Vue`实例的子组件中，其根实例都可以通过`$root`属性进行访问。所有子组件都可以将这个实例作为一个全局 store 访问或使用。

对于 demo 或非常小型的有少量组件的应用来说是很方便的，不过这个模式扩展到中大型就不好了。因此在绝大多数情况下推荐使用 Vuex 管理应用的状态。

### 访问父组件实例

和`$root`类似，`$parent`属性可以用来从一个子组件访问父组件的实例。它提供了一种机会，可以在后期随时触达父级组件，以替代将数据以 prop 方式传入子组件的方式。

> 绝大多数情况下，触达父组件会使得你的应用更难调试和理解。尤其是你变更了父级组件数据的时候。当我们稍后会看那个组件的时候，很难找出那个变更是从哪里发起的。

另外在一些适当的时候，你需要特别地共享一些组件库。

### 访问子组件实例或子元素

尽管存在 prop 和事件，有的时候你仍然可能需要在 JavaScript 直接访问一个子组件。为了达到这个目的，你可以通过`ref`特性为这个子组件赋予一个 ID 引用。例如：`<base-input ref="usernameInput"></base-input>`，现在你已经定义了这个`ref`组件里，你可以使用：`this.$refs.usernameInput`来访问这个`<base-input>`实例。以便不时之需。比如程序化地从一个父级组件聚焦到这个输入框。当`ref`和`v-for`一起使用的时候，你得到的引用将会是一个包含了对应数据源的这些子组件的数组。

`$refs`只会在组件渲染完成之后生效，并且它们不是响应式的，这仅仅作为一个用于直接操作子组件的“逃生舱”——你应该避免在模板或计算属性中访问`$refs`。

### 依赖注入

