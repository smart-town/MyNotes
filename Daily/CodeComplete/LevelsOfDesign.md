# 设计的层次

需要在一个软件系统的若干不同细节层次上进行设计。有些设计技术适用于所有的层次，有些只适用于某些层次上。

**一个程序中的设计层次，系统首先被组织为子系统，子系统进一步分解为类，然后类又被分解为子程序和数据。每个子程序的内部也需要进行设计**

## Level1: Software System

第一个层次就是整个系统，有的程序员直接从系统层次就开始设计类，但是往往先从子系统或者包这些类的更高组织层次来思考会更有益处。

## Level2: Division into Subsystems or Packages

在这一层次上设计的主要成果是识别出所有的主要子系统。这些子系统可能会很大，比如说数据库、用户界面、业务规则、命令解释器、报表引擎等等。这一层的主要设计活动就是确定如何将程序分解为主要的子系统，并定义清楚允许各个子系统如何使用其他子系统。对于任何至少需要几周时间才能完成的项目，在这一层次上进行划分通常都是必需的，在每个子系统的的内部可能要用到不同的设计方法——请对系统中的每一部分选用最恰当的方法。

在这一层次中，有一点特别重要，即不同子系统之间的相互通信的规则。如果所有子系统都能同其他子系统通信，那么你就完全失去了将它们分开带来的好处。应该通过限制子系统之间的通信来让每个子系统更有存在意义。

只有当“确需了解”——最好还有合理的理由时，才允许子系统之间的通信。如果你还拿不准该如何设计的话，那么就应该先对子系统之间的通信加以限制，等以后需要时再放松，这比先不限制，等子系统之间已经有了上百个调用时再加以限制要容易许多。