# 类加载器

虚拟机设计团队将类加载阶段中的“通过一个类的全限定名来获取描述此类的二进制字节流”这个动作放到 JVM 外部实现，以便让应用程序能够自己决定如何去获取所需要的类，实现这个动作的代码模块称为类加载器。

类加载器可以说是 Java 语言的一项创新，也是 Java 语言流行的重要原因之一。

## 类与类加载器

类加载器虽然只用于实现类的加载动作，但是它在 Java 程序中起到的作用远远不限于类加载阶段，对于任意一个类，都需要由加载它的类加载器和这个类本身一同确立起其在 JVM 中的唯一性。每一个类加载器，都拥有一个独立的类名称空间。

## 双亲委派模型

从 JVM 角度来讲，只存在两种不同类型的类加载器：一种是**启动类加载器**，这个类加载器使用C++语言实现，是虚拟机自身的一部分。另一种就是其他所有的类加载器，这些类加载器都由 Java 语言实现，独立于虚拟机外部，并且全部继承自`java.lang.ClassLoader`

从 Java 开发人员角度来讲，类加载器还可以分的更细一些，绝大多数 Java 程序都会用到以下 3 种系统提供的类加载器：

- **启动类加载器**,`Bootstrap ClassLoader`，该类加载器负责将`javahome\lib`中的，或被`-Xbootclasspath`所指定的路径中的，并且是虚拟机识别的(仅仅按照文件名识别，名字不符合的类库即使放在lib中也不会加载)类库加载到虚拟机内存中。启动类加载器无法被 Java 程序直接引用，用户在编写自定义类加载器时，如果需要将加载请求委派给引导类加载器，直接使用`null`代替即可。
- **扩展类加载器**，负责加载`<java_home>\lib\ext`目录中的，或者被`java.ext.dirs`所指定的路径中的所有类库
- **应用程序类加载器**，由于该类是`ClassLoader`中的`getSystemClassLoader()`的返回值，所以一般也称为系统类加载器。负责加载用户类路径中所指定的类库。如果应用程序中没有自定义过自己的类加载器，一般情况下这个就是程序中的默认类加载器。
