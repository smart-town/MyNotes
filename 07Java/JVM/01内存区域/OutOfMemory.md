# OutOfMemoryError 异常

JVM 规范中，除了程序计数器外，虚拟机内存其他几个运行时区域都有发生 OutOfMemoryError 的异常。

这里有两个目的：一个是通过代码验证 JVM 中描述的各个运行时区域存储的内容，第二个是希望在实际遇到内存溢出异常时能够根据异常信息快速判断出是哪个区域的内存溢出，知道什么样的代码可能会导致这些区域内存溢出，以及出现这些异常如何处理。

## 堆溢出

Java 堆内存的 OOM 异常是实际应用中常见的内存溢出情况。当出现 Java 堆内存溢出时，异常堆栈信息显示`Java heap space`

要解决这个区域的问题，一般的手段是通过内存影响分析工具对 Dump 出来的堆转储快照进行分析，重点是确认内存中的对象是否是必要的。也就是要分清楚是出现了**内存泄露**还是**内存溢出**。

进一步？//TODO

## 虚拟机栈和本地方法栈溢出

由于 HotSpot 虚拟机中并不区分虚拟机栈和本地方法栈，因此对于 HotSpot JVM 来说，虽然 -Xoss 参数存在但是实际无效。栈容量只由`-Xss`参数设定。