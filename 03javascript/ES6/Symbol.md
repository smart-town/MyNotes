# Symbol

## 概述

ES5 的对象属性名都是字符串，这容易造成属性名的冲突。比如使用了一个他人提供的对象，但是又想为该对象添加新的方法，新方法的名字可能就会与现有方法冲突。如果有一种机制，能够保证属性的名字都是独一无二的就好了，这样就从根本上防止属性名的冲突。这就是 ES6 引入 Symbol 的原因。

ES6 引入一种新的原始数据类型`Symbol`，表示独一无二的值，它是`JavaScript`语言的第七种数据类型。

Symbol 值通过`Symbol`函数生成。这就是说，对象的属性名现在可以有两种类型，一种是字符串，另一种就是新增的`Symbol`类型。凡是属性名属于`Symbol`，就都是独一无二的。可以保证不会与其他属性名冲突：`let s = Symbol(); typeof s`

`Symbol`函数前不能用`new`，否则会报错。因为 Symbol 是一个原始类型，不是对象。基本上，它是一种类似字符串的数据类型。

Symbol 函数可以接收一个字符串作为参数，表示对`Symbol`实例的描述。主要是为了在控制台显示，或者转换为字符串时容易区分。

【注意】`Symbol`的参数只是表示对当前`Symbol`值的描述，因此相同参数的`Symbol`函数的返回值是不同的。

`Symbol`值不能与其他类型运算，可以显式转换为字符串，也可以转换为布尔值，但是不能转换为数字。

## 作为属性名的 Symbol

由于每一个 Symbol 值都是不相等的，这意味着 Symbol 值可以作为标识符，用于对象的属性名，就能保证不会出现同名的属性。这对于一个对象由多个模块构成的情况非常有用，能防止某一个键被不小心覆盖或改写：
```js
let mySymbol = Symbol();
let a = {};
a[mySymbol] = "Hello";

let b = {
    [mySymbol]: 'Hello',
}

a[mySymbol]//Hello
```

【注意】Symbol 值作为对象属性名时，不能用点运算符。因为点运算符后总是字符串。

## 消除魔术字符串

魔术字符串指的是，在代码中多次出现，与代码形成强耦合的某一个具体的字符串或数值。风格良好的代码，应该尽量消除魔术字符串，改由含义清晰的变量替代。

常用的消除魔术字符串的方法，就是将它写为常量。其值通常不重要，为了确保其不会重复可以使用`Symbol`赋值。如：`const shapeType={triangle:Symbol()}`

。。。