# 全局对象

js 中有一个特殊的对象，称为**全局对象**，它及其所有属性都可以在程序的任何地方访问。即**全局变量**，在浏览器的 js 中，通常`window`是全局对象，而 Node 中全局对象是`global`，所有的全局变量都是`global`对象的属性。

## 全局对象与全局变量

`gloabl`最根本的作用是作为全局变量的**宿主**。当你定义一个全局变量时，这个变量同时也会成为全局对象的属性。需要**注意**的是，在 Node 中你不可能在最外层定义变量，因为所有用户代码都是属于当前模块的，而模块本身不是最外层上下文。

- `__filename` 正在执行的脚本名，它将输出文件所在位置的绝对路径。
- `__dirname` 当前执行脚本所在目录
- `process` 描述当前`Node.js`进程状态

## `process`

### 事件

事件 | 描述
----- | ----
`exit` | 进程准备退出时触发
`beforeExit` | 当node清空事件循环，并没有其他安排时触发这个事件。通常来说，当没有进程安排node退出，但是`beforeExit`的监听器可以异步调用，这样node就会继续执行
`uncaughtException` | 当一个异常冒泡回到事件循环，触发这个事件。如果给异常增加了监视器，默认的操作（打印堆栈信息并退出）就不会发生
`Signal`事件|进程接收到信号时就会触发

### 属性


属性 | 描述
----- | -----
stdout | 标准输出
stderr | ...
stdin | ...
argv | 返回一个数组，由命令行执行脚本时的各个参数组成，它的第一个成员总是`node`，第二个成员是脚本文件名，其余成员是脚本文件参数
execPath | 返回执行当前脚本的 Node 二进制文件路径
env | 当前 shell 环境变量
pid | 当前进程号
platform | 运行程序所在的平台系统"darwin"、"linux"、"win32"
... | ...

### 方法

process 提供了很多有用的方法便于和控制系统交互

方法 | 描述
----- | -----
`chdir(directory)` | 改变当前工作目录，操作失败则抛出异常
`cwd()` | 当前进程的工作目录
`exit(code)` | 使用指定的 code 退出
... | ...
