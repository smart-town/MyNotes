# 事件流

javascript 操作 css 称为脚本化CSS，而 javascript 与 HTML 的交互是通过事件实现的。事件就是文档或者浏览器窗口中发生的一些特定的交互瞬间。而事件流（又叫事件传播）描述的是从页面中接收事件的顺序。

## 历史

当浏览器发展到第四代时(IE4、Netscape4)，浏览器开发团队遇到了一个有意思的问题：页面的哪一部分会拥有特定的事件？想象画在一张纸上的一组同心圆，如果把手指放在圆心上，那么手指指向的不是一个圆，而是纸上的所有圆。两家公司的浏览器开发团队在看待浏览器事件方面还是一致的，如果单击了某个按钮，他们都认为单击事件不止发生在按钮上，甚至也点击了页面。

但是有意思的是，IE 和 Netscape 开发团队居然提出了差不多完全相反的事件流概念，IE 的事件流是冒泡流，而 Netscape 的事件流是捕获流。

## 事件冒泡

IE 的事件流叫做**事件冒泡**(event bubbling)，即事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收。然后逐级向上传播到较为不具体的节点（文档）。

【注意】所有现代浏览器都支持事件冒泡，但是在具体实现是还是有一些差别。IE9、Firefox、Chrome、Safari 一直将冒泡到 window 对象

## 事件捕获

事件捕获的思想是不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件，事件捕获的用意在于在事件到达预定目标之前就捕获它。

## 事件流

事件流又称为事件传播，DOM2 级事件规定的事件流包括三个阶段：事件捕获阶段（capture phase）、处于目标阶段(target phase)、事件冒泡阶段(bubbling phase)。

首先发生的是事件捕获，为截获事件提供了机会。然后是实际的目标接收到事件，最后一个阶段是冒泡阶段，可以在这个阶段对事件做出响应。

![图](https://pic.xiaohuochai.site/blog/JS_DOM_event_eventFlow.jpg)